<section class="flex flex-col justify-center items-center h-[calc(100vh-136px)]">
  <!-- Contenedor principal del formulario -->
  <div
    class="w-full rounded-lg sm:border sm:border-gray-200 sm:shadow-xl sm:dark:border-gray-700 sm:max-w-md sm:dark:bg-gray-800 px-6 max-h-[800px]">
    <!-- Contenido del formulario -->
    <div class="p-6 space-y-4 md:space-y-6 sm:p-8 max-h-full">
      <!-- Título del formulario -->
      <h1 class="text-xl text-center font-bold text-gray-900 md:text-2xl dark:text-white">
        Crea una cuenta
      </h1>

      <!-- Botón para iniciar sesión con Google -->
      <app-google-button (onClick)="submitWithGoogle()"></app-google-button>

      <!-- Formulario de creación de cuenta -->
      <form class="space-y-4 md:space-y-6" [formGroup]="form" (ngSubmit)="submit()">

        <!-- Campo para el nombre -->
        <div>
          <input type="text" name="firstName" id="firstName"
            class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-emerald-600 focus:border-emerald-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Nombre" formControlName="firstName">
          @if(isRequired('firstName')) {
          <small class="text-red-400 font-medium">Este campo es requerido.</small>
          }
        </div>

        <!-- Campo para el apellido -->
        <div>
          <input type="text" name="lastName" id="lastName"
            class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-emerald-600 focus:border-emerald-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Apellido" formControlName="lastName">
          @if(isRequired('lastName')) {
          <small class="text-red-400 font-medium">Este campo es requerido.</small>
          }
        </div>

        <!-- Campo para el correo electrónico -->
        <div>
          <input type="email" name="email" id="email"
            class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-emerald-600 focus:border-emerald-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Correo" formControlName="email">
          @if(isRequired('email')) {
          <small class="text-red-400 font-medium">Este campo es requerido.</small>
          }
          @if(hasEmailError()) {
          <small class="text-red-400 font-medium">El correo debe ser válido.</small>
          }
        </div>

        <!-- Campo para la contraseña -->
        <div class="flex ">
          <input id="password" formControlName="password" [type]="isPasswordVisible ? 'text' : 'password'"
            class="rounded-none rounded-l-lg bg-gray-50 border border-gray-300 text-gray-900 focus: block flex-1 min-w-0 w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Contraseña" formControlName="password">
          @if(!isPasswordVisible) {
          <span (click)="showPassword()"
            class="inline-flex items-center outline-none focus:outline-none focus:ring-0 text-gray-900 bg-gray-200 border border-r-2 border-gray-300 rounded-r-lg dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600">
            <svg class="w-10 h-10 p-2 text-gray-500 dark:text-gray-50 cursor-pointer" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z" />
              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0" />
            </svg>
          </span>
          } @else {
          <span (click)="showPassword()"
            class="inline-flex items-center outline-none focus:outline-none focus:ring-0 text-gray-900 bg-gray-200 border border-r-2 border-gray-300 rounded-r-lg dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600">
            <svg class="w-10 h-10 p-2 text-gray-500 dark:text-gray-50 cursor-pointer" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z" />
              <path
                d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829" />
              <path
                d="M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z" />
            </svg>
          </span>
          }
        </div>
        @if(isRequired('password')) {
        <small class="text-red-400 font-medium">Este campo es requerido.</small>
        }

        <button 
          type="submit"
          class="w-full text-white bg-emerald-600 hover:bg-emerald-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-emerald-600 dark:hover:bg-emerald-700 dark:focus:ring-emerald-800">
          Entrar
        </button>

        <div class="text-center">
          <p class="text-sm font-light text-gray-500 dark:text-gray-400">¿Ya estás registrado? 
            <a
              routerLink="/auth/log-in"
              class="font-medium text-emerald-600 hover:underline dark:text-emerald-500">Inicia Sesión
            </a>
          </p>
        </div>
      </form>
    </div>
  </div>
</section>